<script type="application/javascript">
    const confirmationText = $('#confirmation-modal .content');
    const defaultText = confirmationText.text();

    $('#confirmation-button').on('click', (evt) => {
        window.location.href = $(evt.currentTarget).attr('href');
    });

    $('[data-confirm-pay-pal-consent]').on('click', (evt) => {
        evt.preventDefault();

        const actionButton = $(evt.currentTarget);
        $('#confirmation-button').attr('href', actionButton.attr('href'));

        confirmationText.text('{{ 'sylius.pay_pal.share_data_consent_confirmation'|trans }}');
        $('#confirmation-modal')
            .modal({
                onHidden: function() {
                    confirmationText.text(defaultText);
                }
            })
            .modal('show')
        ;
    });
</script>
